<!DOCTYPE html>
<script>
Notification.requestPermission(function(status) {
  console.log(status);
  var n = new Notification("Working", {body: "Longer text"});
});

var r;
navigator.serviceWorker.register("sw.js", {scope: "./"}).then(
  function(registration) {
    console.log("success!");
    r = registration;
    return registration.geofencing.registerRegion(
        new CircularGeofencingRegion({latitude: 37.421999, longitude: -122.084015, radius: 1000}));
  }, function(why) {
    console.log("install failed:", why);
    console.log(why);
    console.log(why.code);
    console.log(why.name);
  }).then(
  function() {
    console.log("registered");
  }, function(why) {
    console.log("register fail");
    console.log(why);
    console.log(why.name);
  }
);
</script>
